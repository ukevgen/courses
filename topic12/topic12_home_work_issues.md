### Замечания по ДЗ №12

1. Храните `Statement` или `PreparedStatement` как филды класса только, если это вам действительно необходимо:
  * `PreparedStatement` необходимо закрывать.
  * Лучше создавать `PreparedStatement` по необходимости.

2. `ID` вставленной записи можно получать с помощью JDBC:
    ```
    PreparedStatement statement = connection.prepareStatement(SQL_INSERT,
                                          Statement.RETURN_GENERATED_KEYS);
    . . .
    ResultSet generatedKeys = statement.getGeneratedKeys();
    int id = generatedKeys.getInt(1);
    ```
3. Оставьте генерацию `ID` на базу данных, если это возможно для вашей архитектуры.

4. Пользуйтесь паттерном DAO(Data Access Object), который инкапсулирует в себе работу с базой данных для конкретной сущности.

5. Внимательно относитесь к открытию и закрытию `Connection`.
  * Открывать новый `Connection` - дорогостоящася операция.
  * Держать 1 `Connection` вечно тоже не выход.
  * Ознакомтесь с понятием `Connection Pool`.

6. Используйте и перехватывайте исключения, когда это необходимо.

7. Делайте SQL запросы финальными константами или выносите их в файл конфигурации (что еще гибче).

8. Можно вынести настройки подключения к базе в отдельный файл (снова привет гибкости).

9. Используйте коллекции, если возможно. Используйте массивы, только, если без этого не обойтись.

10. Разделяйте логику отображения и логику работы с базой.

11. Делайте `SELECT` только по тем полям, который вам необходимо. Не правильно делать `SELECT *`, если вам нужно только 1 поле из таблички.

12. Не надейтесь на то, что база не будет менятся и ключи ваших сущностей будут идеально совопадать.
  * Ситуация, когда `ad.id == car.id == owner.id` это скорее исключение, чем правило.

13. Оптимизируйте работу с базой. Лучше используйте 1 сложный запрос, вместо нескольких более легких.
  * Используйте `INNER JOIN` вместо нескольких `SELECT *` и склейки результата.

14. Давайте подходящие имена классам.

15. Добавляйте `FOREIGN KEY` для внешних ключей. Это обезопасит вас от ошибок.

16. Избавляйтесь от уродливых конструкций.
  ```
    // лучше
    User user = new User();
    user.setId(rs.getInt(id));
    user.setFirstName(rs.getString(firstName));
    . . . // 10 строчке

    // чем
    User user = new User(rs.getInt(id), rs.getString(firstName), rs.getString(...), rs.getString(...), rs.getString(...),
        rs.getString(...), rs.getString(...));
  ```
